@baseUrl = http://localhost:3000/api
@contentType = application/json

### 1. Login as User
# @name loginUser
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "paningalrudy@gmail.com",
  "password": "ganteng123"
}

### 2. Extract user token from response
@userToken = {{loginUser.response.body.token}}

### 3. Get Current User Profile
GET {{baseUrl}}/auth/me
Authorization: Bearer {{userToken}}

### 4. Get User Items
GET {{baseUrl}}/user/items
Authorization: Bearer {{userToken}}

### 5. Get User Items with Filtering
GET {{baseUrl}}/user/items?search=test&status=AVAILABLE&page=1&limit=10
Authorization: Bearer {{userToken}}

### 6. Get All User Maintenance Requests
GET {{baseUrl}}/user/maintenance
Authorization: Bearer {{userToken}}

### 7. Get Single Maintenance Request (Using Test ID)
GET {{baseUrl}}/user/maintenance/cc8019c6-10bb-4d63-8769-5bb22e71d68e
Authorization: Bearer {{userToken}}

### 8. Create New Maintenance Request
POST {{baseUrl}}/user/maintenance
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "itemSerial": "TEST123"
}

### 9. Create Maintenance Request for Non-existent Item (Should Fail)
POST {{baseUrl}}/user/maintenance
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "itemSerial": "NONEXIST123"
}

### 10. Get All User Calibrations
GET {{baseUrl}}/user/calibrations
Authorization: Bearer {{userToken}}

### 11. Get Single Calibration (Using Test ID)
GET {{baseUrl}}/user/calibrations/fa568013-8392-4a53-8be9-27c7b1c90672
Authorization: Bearer {{userToken}}

### 12. Create New Calibration Request
POST {{baseUrl}}/user/calibrations
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "itemSerial": "TEST123",
  "vendorId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "calibrationDate": "2023-07-01"
}

### 13. Get Available Vendors (Read-only)
GET {{baseUrl}}/user/vendors
Authorization: Bearer {{userToken}}

### 14. Search Vendors
GET {{baseUrl}}/user/vendors?search=test
Authorization: Bearer {{userToken}}

### 15. Get Unavailable User Route (Should Return 404)
GET {{baseUrl}}/user/nonexistent
Authorization: Bearer {{userToken}}

### 16. Access User Route Without Authentication (Should Return 401)
GET {{baseUrl}}/user/items

### 17. Get User Notifications
GET {{baseUrl}}/user/requests
Authorization: Bearer {{userToken}}

### 19. Get User Rentals
GET {{baseUrl}}/user/rentals
Authorization: Bearer {{userToken}}

### 20. Create New Rental Request
POST {{baseUrl}}/user/rentals
Content-Type: {{contentType}}
Authorization: Bearer {{userToken}}

{
  "itemSerial": "TEST123",
  "startDate": "2023-07-01",
  "endDate": "2023-07-10",
  "purpose": "Testing equipment"
} 